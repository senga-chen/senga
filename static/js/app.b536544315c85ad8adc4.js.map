{"version":3,"sources":["webpack:///./src/App.vue?476e","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/cover.vue","webpack:///./src/components/cover.vue?7b75","webpack:///./src/components/cover.vue","webpack:///./src/store/modules/user.js","webpack:///src/views/chatRoom/chatRoom.vue","webpack:///./src/views/chatRoom/chatRoom.vue?f947","webpack:///./src/views/chatRoom/chatRoom.vue","webpack:///./src/fetch/network.js","webpack:///src/views/login/login.vue","webpack:///./src/fetch/fetch.js","webpack:///./src/views/login/login.vue?25dc","webpack:///./src/views/login/login.vue","webpack:///./src/router/index.js","webpack:///./src/store/modules/app.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","staticClass","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","data","mounted","$router","push","name","beforeDestroy","methods","ssrContext","components_cover","props","cover_path","String","selectortype_template_index_0_src_components_cover","src","src_components_cover","cover_normalizeComponent","user","state","mutations","logout","vm","Cookies","remove","chatRoom","components","user_cover","userinfo","cover","user_id","token","socket","init","js_cookie_default","a","get","socketConnect","WebSocket","onmessage","event","console","log","showMessage","JSON","parse","message","beforeCreate","modules_user","$store","commit","chatRoom_chatRoom","_vm","_v","_s","views_chatRoom_chatRoom","chatRoom_normalizeComponent","post","url","parms","myInit","method","headers","Accept","credentials","body","obj","formData","FormData","p","append","paramToBody","fetch","then","response","json","login","form","username","password","rules","required","type","trigger","handleSubmit","_this","error_code","alert","error_msg","_username","attributes","expires","set","catch","error","login_login","staticStyle","width","height","display","align-items","on","keydown","$event","indexOf","_k","keyCode","key","_m","ref","model","directives","rawName","value","expression","placeholder","domProps","input","target","composing","$set","click","views_login_login","login_normalizeComponent","Vue","use","Router","router","mode","routes","path","component","app","cachePage","messageCount","Vuex","store","Store","actions","modules","config","productionTip","el","App","template"],"mappings":"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","file":"static/js/app.b536544315c85ad8adc4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-main\",attrs:{\"id\":\"main\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c658b89e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c658b89e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c658b89e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"main\" class=\"app-main\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n      };\n    },\n    mounted () {\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    beforeDestroy () {\n\n    },\n    methods: {\n\n    }\n  };\n</script>\n\n<style>\n  html,body{\n    width: 100%;\n    height: 100%;\n    background: #f0f0f0;\n    overflow: hidden;\n  }\n  .app-main{\n    width: 100%;\n    height: 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n    <img class=\"coverClass\" :src=\"cover_path\"/>\n</template>\n\n<script>\n    export default {\n        name: \"user_cover\",\n        props: {\n          cover_path: String\n        }\n    }\n</script>\n\n<style scoped>\n.coverClass{\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/cover.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{staticClass:\"coverClass\",attrs:{\"src\":_vm.cover_path}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5287b85d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/cover.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5287b85d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cover.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cover.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cover.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5287b85d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./cover.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5287b85d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cover.vue\n// module id = null\n// module chunks = ","import Cookies from 'js-cookie';\n\nconst user = {\n    state: {},\n    mutations: {\n        logout (state, vm) {\n            Cookies.remove('user');\n            Cookies.remove('password');\n            Cookies.remove('token');\n            Cookies.remove('cover');\n        }\n    }\n};\n\nexport default user;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","<style lang=\"less\">\n  @import './chatRoom.less';\n</style>\n\n<template>\n  <div id=\"chat_box\">\n    <div class=\"chat_top\">\n      <div class=\"top_left\">\n        <div class=\"cover\">\n            <user_cover :cover_path=\"userinfo.cover\"></user_cover>\n        </div>\n        <div class=\"name\">\n            {{userinfo.name}}\n        </div>\n\n      </div>\n      <div class=\"top_right\">\n        欢迎来到聊天室\n      </div>\n    </div>\n\n    <div class=\"chat_content\"></div>\n\n    <div class=\"chat_footer\"></div>\n  </div>\n</template>\n\n<script>\n    import user_cover from '../../components/cover'\n    import Cookies from 'js-cookie';\n    import user from \"../../store/modules/user\";\n\n    export default {\n        name: \"chatRoom\",\n        components: {\n          user_cover\n        },\n        data (){\n            return {\n                userinfo: {\n                    name: \"\",\n                    cover: \"\",\n                    user_id: 0,\n                    token: \"\"\n                },\n                socket: null\n            }\n        },\n        methods: {\n            init(){\n                let name = Cookies.get(\"user\");\n                let cover = Cookies.get(\"cover\");\n                let user_id = Cookies.get(\"user_id\");\n                let token = Cookies.get(\"token\")\n                this.userinfo.cover = cover;\n                this.userinfo.name = name;\n                this.userinfo.user_id = user_id;\n                this.userinfo.token = token;\n            },\n            socketConnect(){\n                let url = \"ws://127.0.0.1:8088/chatsocket\";\n                this.socket = new WebSocket(url);\n                this.socket.onmessage = function(event) {\n                    console.log(event)\n                    this.socket.showMessage(JSON.parse(event.data));\n                }\n            },\n            showMessage(message){\n                console.log(message)\n            }\n        },\n        beforeCreate() {\n            let token = Cookies.get(\"token\")\n            if (!token || token === \"undefined\"){\n              user.$store.commit('logout', this);\n              this.$router.push({\n                name: 'login'\n              });\n            }\n        },\n        mounted() {\n            this.init();\n            this.socketConnect();\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/chatRoom/chatRoom.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"chat_box\"}},[_c('div',{staticClass:\"chat_top\"},[_c('div',{staticClass:\"top_left\"},[_c('div',{staticClass:\"cover\"},[_c('user_cover',{attrs:{\"cover_path\":_vm.userinfo.cover}})],1),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(\"\\n          \"+_vm._s(_vm.userinfo.name)+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"top_right\"},[_vm._v(\"\\n      欢迎来到聊天室\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"chat_content\"}),_vm._v(\" \"),_c('div',{staticClass:\"chat_footer\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b075e5b0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/chatRoom/chatRoom.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b075e5b0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chatRoom.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b075e5b0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./chatRoom.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chatRoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chatRoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b075e5b0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./chatRoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b075e5b0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/chatRoom/chatRoom.vue\n// module id = null\n// module chunks = ","// import 'whatwg-fetch';\n// import 'es6-promise';\n\nfunction obj2params (obj, currentUrl) {\n    let str = [];\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p)) {\n            str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\n        }\n    }\n    let param = str.join('&');\n    if (currentUrl) {\n        if (/\\?/g.test(currentUrl)) {\n            return currentUrl + param;\n        } else {\n            return currentUrl + '?' + param;\n        }\n    } else {\n        return param;\n    }\n}\n\nfunction paramToBody (obj) {\n    let formData = new FormData();\n    for (let p in obj) {\n        formData.append(p, obj[p]);\n    }\n    return formData;\n}\n\nlet baseURL = \"\";\nexport function get (url, data) {\n    let myInit = {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json, text/plain, */*',\n            \"Auth\": '123'\n        }\n    };\n    let fetchUrl = baseURL + url;\n    if (data) {\n        fetchUrl = obj2params(data, fetchUrl)\n    }\n    let result = fetch(fetchUrl, myInit).then(response=>response.json());\n    return result;\n}\n\nexport function post(url, parms) {\n    let myInit = {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json, text/plain, */*'\n        },\n        credentials: 'include'\n    };\n    myInit.body = paramToBody(parms);\n    return fetch(url, myInit).then(response=>response.json());\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fetch/network.js","<style lang=\"less\">\n  @import './login.less';\n</style>\n\n<template>\n  <div @keydown.enter=\"handleSubmit\" style=\"width: 100%;height: 100%;display: flex;align-items: center;\">\n    <div class=\"long_left\"></div>\n    <div class=\"login_right\">\n      <div class=\"login_content\">\n        <div class=\"login_title_box\">\n          <div class=\"login_title\">\n            LOGIN\n            <span>欢迎登录</span>\n          </div>\n        </div>\n        <div class=\"login_input\">\n          <form ref=\"loginForm\" :model=\"form\" :rules=\"rules\">\n            <input v-model=\"form.username\" placeholder=\"请输入用户名\">\n            <input v-model=\"form.password\" placeholder=\"请输入密码\">\n          </form>\n        </div>\n        <Button @click=\"handleSubmit\" class=\"login_btn\">登录</Button>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import Cookies from 'js-cookie';\n  import {LoginH} from '../../fetch/fetch'\n\n  export default {\n    name: \"login\",\n    data () {\n      return {\n        form: {\n          username: '',\n          password: ''\n        },\n        rules: {\n          password: [\n            { required: true, type: 'string', message: '用户名不能为空', trigger: 'blur' }\n          ],\n          username: [\n            { required: true, type: 'string', message: '密码不能为空', trigger: 'blur' }\n          ]\n        }\n      };\n    },\n    methods: {\n      handleSubmit () {\n          let password = this.form.password;\n          let username = this.form.username;\n          let param = {username:username, password: password};\n          LoginH(param).then( response=>{\n            if(response.error_code != 0){\n              // this.$Notice.warning({\n              //   title: response.error_msg,\n              //   duration:5\n              // });\n              alert(response.error_msg)\n            }else {\n              // console.log(response)\n              let username = response.user.name;\n              let token = response.user.token;\n              let cover = response.user.cover;\n              let user_id = response.user.id;\n              if (!cover){\n                cover = \"http://s1.wmlives.com/data/dongci/user_cover/20180503155855170276.jpg!cover_img_thumbnail\"\n              }\n              let attributes = {};\n              attributes.expires = 1;\n              console.log(attributes)\n              Cookies.set('user_id', user_id, attributes);\n              Cookies.set('user', username, attributes);\n              Cookies.set('token', token, attributes);\n              Cookies.set('cover', cover, attributes);\n              this.$router.push({\n                name: 'chatRoom'\n              });\n            }\n          }).catch(error => {\n            console.log(error)\n          });\n      }\n    },\n    mounted () {\n    }\n  };\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/login.vue","import {get, post} from './network';\n\n\nexport function UserDataH(data) {\n    const result = get('/api/user/data', data);\n    return result;\n}\n\nexport function LoginH(data) {\n    const result = post('api/user/login', data);\n    return result;\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/fetch/fetch.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"long_left\"}),_vm._v(\" \"),_c('div',{staticClass:\"login_right\"},[_c('div',{staticClass:\"login_content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"login_input\"},[_c('form',{ref:\"loginForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.username),expression:\"form.username\"}],attrs:{\"placeholder\":\"请输入用户名\"},domProps:{\"value\":(_vm.form.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"username\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.password),expression:\"form.password\"}],attrs:{\"placeholder\":\"请输入密码\"},domProps:{\"value\":(_vm.form.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"password\", $event.target.value)}}})])]),_vm._v(\" \"),_c('Button',{staticClass:\"login_btn\",on:{\"click\":_vm.handleSubmit}},[_vm._v(\"登录\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_title_box\"},[_c('div',{staticClass:\"login_title\"},[_vm._v(\"\\n          LOGIN\\n          \"),_c('span',[_vm._v(\"欢迎登录\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ebbe622\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ebbe622\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ebbe622\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ebbe622\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/login.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport chatRoom from \"../views/chatRoom/chatRoom\";\nimport login from '../views/login/login'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: \"hash\",\n  routes: [\n    {\n      path: '/login',\n      name: 'login',\n      component: login\n    },\n    {\n      path: '/chatRoom',\n      name: 'chatRoom',\n      component: chatRoom\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Cookies from 'js-cookie';\nimport Vue from 'vue';\n\nconst app = {\n    state: {\n        cachePage: [],\n        messageCount: 0\n    },\n    mutations: {\n    }\n};\n\nexport default app;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/app.js","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport app from './modules/app';\nimport user from './modules/user';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n  state: {\n    //\n  },\n  mutations: {\n    //\n  },\n  actions: {\n\n  },\n  modules: {\n    app,\n    user\n  }\n});\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from \"./store\";\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n  store: store\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}